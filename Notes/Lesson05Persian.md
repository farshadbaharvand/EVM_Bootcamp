# ارث‌بری در سالیدیتی (Inheritance in Solidity)

در برنامه‌نویسی شی‌گرا، **ارث‌بری** مکانیزمی است که به یک شی یا کلاس اجازه می‌دهد بر پایه شی یا کلاس دیگری ساخته شود. شی‌ای که از طریق ارث‌بری ایجاد شده است، _شی فرزند_ نام دارد و برخی یا تمام ویژگی‌ها و رفتارهای _شی والد_ را به ارث می‌برد.

در سالیدیتی، از کلیدواژه `is` برای مشخص کردن این‌که یک قرارداد از قرارداد دیگری ارث‌بری می‌کند استفاده می‌شود. برای مثال، در کد زیر، `Child1` قرارداد فرزند و `Owned` قرارداد والد است.

## مثال پایه

// SPDX-License-Identifier: GPL-3.0
pragma solidity >=0.7.0 <0.9.0;

contract Owned {
constructor() { owner = msg.sender; }
address owner;
}

// با استفاده از is از یک قرارداد دیگر ارث‌بری کنید.
// قراردادهای مشتق‌شده می‌توانند به تمام اعضای غیرخصوصی
// از جمله توابع داخلی و متغیرهای حالت دسترسی داشته باشند.
// اما این اعضا از طریق this قابل دسترسی نیستند.
contract Child1 is Owned {
// کلیدواژه virtual نشان می‌دهد که این تابع می‌تواند
// در قراردادهای مشتق‌شده تغییر یابد (Overriding).
function doThings() virtual public {
// پیاده‌سازی در اینجا انجام می‌شود
}
}


### نکات کلیدی

- کلیدواژه `is` برای ارث‌بری از یک قرارداد پایه استفاده می‌شود.
- قراردادهای فرزند تمام اعضای **غیرخصوصی** قرارداد والد را به ارث می‌برند.
- توابعی که با `virtual` علامت‌گذاری شده‌اند، می‌توانند در قراردادهای فرزند **بازنویسی** شوند.
- برای بازنویسی تابعی از والد، باید از کلیدواژه `override` استفاده کرد.

## مثال ارث‌بری از ERC20

سالیدیتی از ارث‌بری از قراردادهای واردشده نیز پشتیبانی می‌کند، مانند پیاده‌سازی ERC20 از OpenZeppelin.

// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";

contract GLDToken is ERC20 {
constructor(uint256 initialSupply) ERC20("Gold", "GLD") {
_mint(msg.sender, initialSupply);
}
}


### توضیح

1. قرارداد `GLDToken` از قرارداد `ERC20` متعلق به OpenZeppelin ارث‌بری می‌کند.
2. سازنده والد `ERC20("Gold", "GLD")` در درون سازنده `GLDToken` فراخوانی می‌شود.
3. تابع `_mint` برای اختصاص مقدار اولیه توکن‌ها به آدرس سازنده استفاده می‌شود.

## منابع بیشتر

- [مستندات رسمی ارث‌بری در سالیدیتی](https://docs.soliditylang.org/en/latest/contracts.html#inheritance)
- [مخزن GitHub قراردادهای OpenZeppelin](https://github.com/OpenZeppelin/openzeppelin-contracts)


